(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9993:function(e,t,n){Promise.resolve().then(n.bind(n,7006))},7006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(7573),r=n(7653);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={headers:{"Content-Type":"application/json",...t.headers}},a=await fetch(e,{...n,...t});if(!a.ok)throw Error("API call failed: ".concat(a.status," ").concat(a.statusText));return a.json()}function c(){let{user:e,loading:t,loginWithGitHub:n,logout:c}=function(){let[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=await s("/api/auth/me");t(e.user)}catch(e){t(null)}finally{a(!1)}})()},[]),{user:e,loading:n,loginWithGitHub:()=>{window.location.href="/api/auth/github"},logout:async()=>{try{await s("/api/auth/logout",{method:"POST"}),t(null)}catch(e){console.error("Error logging out:",e)}}}}();return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("p",{children:"Loading..."})}):e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Welcome, ",e.username,"!"]}),e.avatar_url&&(0,a.jsx)("img",{src:e.avatar_url,alt:"".concat(e.username,"'s avatar"),className:"w-16 h-16 rounded-full mx-auto mb-4"}),(0,a.jsx)("button",{onClick:c,className:"bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Logout"})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"FlowSync AI"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"The Verifiable Coordination Layer for Modern Product Teams"}),(0,a.jsx)("button",{onClick:n,className:"bg-gray-800 text-white px-6 py-3 rounded hover:bg-gray-700",children:"Sign in with GitHub"})]})})}}},function(e){e.O(0,[293,286,744],function(){return e(e.s=9993)}),_N_E=e.O()}]);